# 📊 MEXC Paper Trading System

**Система торговли на бумаге с детальным анализом паттернов и корреляций**

## 🎯 Описание

Paper Trading System - это интеллектуальная система для тестирования торговых стратегий без риска. Система торгует "на бумаге", записывает все данные о состоянии рынка в моменты сделок и анализирует результаты для поиска паттернов и корреляций, которые приводят к успеху.

### ⚡ Ключевые особенности

- **Торговля на бумаге** - без риска потери реальных денег
- **Детальное логирование** - запись всех данных о состоянии рынка
- **Анализ корреляций** - поиск факторов, влияющих на успех
- **Поиск паттернов** - выявление повторяющихся успешных комбинаций
- **Автоматический анализ** - регулярная оценка результатов
- **Рекомендации** - советы по улучшению стратегии

## 🚀 Быстрый старт

### 1. Установка

```bash
npm install
```

### 2. Запуск Paper Trading

```bash
# Основная система Paper Trading
npm run dev

# Только анализатор рынка
npm run analyzer

# Тестирование анализатора
npm run test
```

## 📊 Как работает система

### 1. **Анализ рынка в реальном времени**
- WebSocket подключение к MEXC
- Анализ трендов, индикаторов, объемов
- Генерация сигналов на покупку в откатах

### 2. **Создание сделок на бумаге**
- Автоматическое создание сделок по сигналам
- Запись снимка состояния рынка в момент входа
- Управление позициями (стоп-лосс, тейк-профит)

### 3. **Детальное логирование**
- Состояние всех технических индикаторов
- Анализ тренда и объемов
- Временные факторы (час, день недели)
- Дополнительные метрики (волатильность, спред)

### 4. **Анализ результатов**
- Поиск корреляций между факторами и успехом
- Выявление успешных паттернов
- Статистический анализ результатов
- Генерация рекомендаций

## 🔍 Анализируемые факторы

### Технические индикаторы:
- **RSI** - перекупленность/перепроданность
- **MACD** - готовность к развороту
- **Bollinger Bands** - позиция цены в полосах
- **EMA** - трендовые индикаторы
- **Stochastic** - точки разворота

### Анализ тренда:
- **Направление тренда** - UP/DOWN/SIDEWAYS
- **Сила тренда** - 0-100%
- **Уровень отката** - 0-100%

### Объемы:
- **Соотношение к среднему** - текущий/средний объем
- **Тренд объемов** - растут/падают
- **Средний объем** - за период

### Уровни:
- **Поддержка/сопротивление** - ключевые уровни
- **Расстояния до уровней** - в процентах

### Временные факторы:
- **Час дня** - 0-23
- **День недели** - 0-6
- **Открыт ли рынок** - true/false

### Дополнительные метрики:
- **Изменение цены** - за 1м, 5м, 15м, 1ч
- **Волатильность** - за период
- **Спред** - размах цены

## 🎯 Анализируемые паттерны

### 1. **RSI + Bollinger Bands**
- RSI перепродан + цена у нижней границы BB

### 2. **MACD Reversal**
- MACD гистограмма выше сигнала

### 3. **Volume + Trend**
- Растущие объемы + восходящий тренд

### 4. **Pullback + Support**
- Откат 30-70% + цена у поддержки

### 5. **Morning Session**
- Утренняя сессия (8-12)

### 6. **High Volatility**
- Высокая волатильность (>2%)

### 7. **Perfect Storm**
- Комбинация: RSI<45 + BB<40% + откат>25% + объемы + тренд вверх

## 📈 Пример отчета анализа

```
════════════════════════════════════════════════════════════
📊 ОТЧЕТ АНАЛИЗА РЕЗУЛЬТАТОВ
════════════════════════════════════════════════════════════

📈 ОБЩАЯ СТАТИСТИКА:
   Всего сделок: 25
   Винрейт: 68.0%
   Profit Factor: 1.85
   Лучший паттерн: Perfect Storm
   Худший паттерн: High Volatility

🔗 ТОП КОРРЕЛЯЦИИ:
   1. 🔥 rsi: -0.456 (Сильная отрицательная корреляция)
   2. ⚡ bollinger_position: -0.342 (Умеренная отрицательная корреляция)
   3. 📊 volume_ratio: 0.298 (Умеренная положительная корреляция)

🎯 ТОП ПАТТЕРНЫ:
   1. 🏆 Perfect Storm: 85.7% (7 случаев)
   2. 🥇 RSI + BB: 75.0% (12 случаев)
   3. 🥈 MACD Reversal: 66.7% (9 случаев)

💡 РЕКОМЕНДАЦИИ:
   1. Использовать паттерн "Perfect Storm" - винрейт 85.7% (7 случаев)
   2. Увеличить вес фактора "rsi" - отрицательная корреляция -0.456
   3. Избегать паттерна "High Volatility" - винрейт 33.3% (6 случаев)
```

## 🛠️ Структура проекта

```
src/
├── paper-trading-main.ts          # Главный файл Paper Trading
├── main.ts                        # Анализатор рынка
├── example.ts                     # Примеры использования
└── paper-trading/
    ├── integrated-paper-trading.ts # Интегрированная система
    ├── paper-trading.ts           # Система торговли на бумаге
    ├── data/
    │   └── market-snapshot.ts     # Снимки состояния рынка
    └── analysis/
        └── result-analyzer.ts     # Анализатор результатов
```

## 🔧 Конфигурация

Настройки в `paper-trading-main.ts`:

```typescript
const config: PaperTradingConfig = {
  symbols: ['ETH/USDC', 'BTC/USDC'],
  intervals: ['1m', '5m'],
  updateInterval: 5000,        // 5 секунд
  positionSize: 0.1,           // 10% от баланса
  maxOpenTrades: 2,            // Максимум 2 сделки
  tradeTimeout: 30,            // Таймаут 30 минут
  analysisInterval: 10         // Анализ каждые 10 минут
};
```

## 📊 Сохранение данных

Система автоматически сохраняет данные в папку `data/`:
- `trades.json` - все закрытые сделки
- `market-snapshots.json` - снимки состояния рынка
- `stats.json` - статистика торговли

## ⚡ Производительность

**Проверенные характеристики:**
- ✅ Анализ в реальном времени
- ✅ Детальное логирование всех данных
- ✅ Автоматический поиск корреляций
- ✅ Выявление успешных паттернов
- ✅ Генерация рекомендаций
- ✅ Сохранение данных для дальнейшего анализа

## 🎯 Цель системы

Найти **крутую стратегию** путем:
1. **Тестирования без риска** - торговля на бумаге
2. **Сбора данных** - запись всех факторов
3. **Анализа результатов** - поиск закономерностей
4. **Улучшения стратегии** - на основе найденных паттернов

---

*⚠️ Это система для тестирования стратегий. Не используйте для реальной торговли без дополнительной проверки.*
